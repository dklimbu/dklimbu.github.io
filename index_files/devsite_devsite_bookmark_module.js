(function(_ds){var window=this;'use strict';var sQ=function(a){return(0,_ds.T)(a.Qc?'<span class="material-icons">bookmark</span>':'<span class="material-icons">bookmark_border</span>')},tQ=function(a){a=a.isSignedIn;var b='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">';b=(a?b+"Create profile to bookmark":b+"Sign in to bookmark")+"</h3><p>";b=(a?b+"Save your frequently visited pages with a Google Developer Profile.":b+"You need to be signed in to save your frequently visited pages with a Google Developer Profile.")+
"</p>";a&&(b+="<p>Create your Google Developer Profile.</p>");b+='</div><div class="devsite-dialog-buttons">';b=a?b+'<button class="button-primary create-profile">Create profile':b+'<button class="button button-primary sign-in-button">Sign in';return(0,_ds.T)(b+'</button><button class="button devsite-dialog-close">Dismiss</button></div></devsite-dialog>')},uQ=function(a){var b=a.kb;a='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-create-profile-dialog"><div class="create-profile-spinner"><devsite-spinner size="48"></devsite-spinner></div><div class="devsite-dialog-contents"><h3 class="no-link">Would you like to receive emails regarding new features, events, badges, content, and research opportunities?</h3><input type="checkbox" id="devsite-bookmark-create-profile-email-opt-in"><label for="devsite-bookmark-create-profile-email-opt-in">Yes, sign me up for Google Developer emails.</label><p class="account-note">';
b='By creating a Developer Profile, you agree to the <a href="'+(_ds.X(_ds.PC(b))+'">Content Policy</a>. Google\'s <a href="https://policies.google.com/terms">Terms of Service</a> and <a href="https://policies.google.com/privacy">Privacy Policy</a> apply to your use of this service. The name on your Google Account will be used in your Google Developer Profile. It may appear where you contribute and can be changed at any time.');a=a+b+'</p></div><div class="devsite-dialog-buttons"><button class="button-primary create-profile">Create Profile';
a+='</button><button class="button devsite-dialog-close">';a+="Dismiss";a+="</button></div></devsite-dialog>";return(0,_ds.T)(a)},vQ=function(a){a='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-error-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">Something went wrong</h3><p>'+(_ds.W(a.error)+'</p></div><div class="devsite-dialog-buttons"><button class="button devsite-dialog-close">');return(0,_ds.T)(a+"Dismiss</button></div></devsite-dialog>")},wQ=function(){var a=
_ds.N.call(this,["devsite-snackbar","devsite-dialog"])||this;a.eventHandler=new _ds.yl;a.m=null;a.h=null;a.j=null;a.Qc=!1;return a},yQ=function(a){a.eventHandler.listen(a,"click",function(){xQ(a)})},xQ=function(a){return _ds.M(a,function c(){var d=this,e,f,h,k;return _ds.F(c,function(l){switch(l.j){case 1:d.toggleAttribute("saved");zQ(d);if(!d.Qc){AQ(d,"Page unsaved.");l.G(2);break}return _ds.x(l,(0,_ds.tt)("https://developers.google.com/profile/u/me/saved-pages",!1,!0),3);case 3:e=l.h,AQ(d,"Page saved.",
"View Saved Pages",e);case 2:return _ds.x(l,(0,_ds.Cn)(),4);case 4:return f=l.h,_ds.x(l,f.isSignedIn(),5);case 5:h=l.h;if(!h){l.G(6);break}return _ds.x(l,d.ea(),7);case 7:k=l.h;if(!k){l.G(6);break}return _ds.x(l,BQ(d,k),9);case 9:return l.return();case 6:d.m=CQ(d,h),d.m.setAttribute("open",""),_ds.y(l)}})})},AQ=function(a,b,c,d){a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",{detail:{msg:b,linkText:c,href:null===d||void 0===d?void 0:d.href,showClose:!1},bubbles:!0}))},zQ=function(a){_ds.eD(a,
sQ,{Qc:a.Qc});a.Qc?(a.setAttribute("data-title","Remove bookmark"),a.setAttribute("aria-label","Remove bookmark")):(a.setAttribute("data-title","Add bookmark"),a.setAttribute("aria-label","Add bookmark"))},CQ=function(a,b){var c=document.body.querySelector("#devsite-bookmark-dialog");c||(c=_ds.hD(tQ,{isSignedIn:b}),document.body.appendChild(c),(b=c.querySelector(".create-profile"))&&a.eventHandler.listen(b,"click",function(){return _ds.M(a,function e(){var f=this;return _ds.F(e,function(h){if(1==
h.j)return null===c||void 0===c?void 0:c.removeAttribute("open"),_ds.x(h,DQ(f),2);f.h=h.h;f.h.setAttribute("open","");_ds.y(h)})})}),(b=c.querySelector(".sign-in-button"))&&a.eventHandler.listen(b,"click",function(d){return _ds.M(a,function f(){var h,k;return _ds.F(f,function(l){if(1==l.j)return d.preventDefault(),d.stopPropagation(),h=new _ds.yj(_ds.Wj().href),h.h.add("bookmark",!0),_ds.Xj(h.toString(),!0,!1),_ds.x(l,(0,_ds.Cn)(),2);k=l.h;return _ds.x(l,k.signIn(),0)})})}),(b=c.querySelector(".devsite-dialog-close"))&&
a.eventHandler.listen(b,"click",function(){a.toggleAttribute("saved");EQ(a,"Callout Profile dismissed")}));return c},DQ=function(a){return _ds.M(a,function c(){var d=this,e,f,h,k,l;return _ds.F(c,function(m){if(1==m.j)return e=d,EQ(d,"Callout Profile displayed"),(f=document.body.querySelector("#devsite-bookmark-create-profile-dialog"))?m.G(2):_ds.x(m,(0,_ds.pt)(),3);2!=m.j&&(h=m.h.href,f=_ds.hD(uQ,{kb:h}),document.body.appendChild(f),(k=f.querySelector(".create-profile"))&&d.eventHandler.listen(k,
"click",function(){e.createProfile()}),(l=f.querySelector(".devsite-dialog-close"))&&d.eventHandler.listen(l,"click",function(){e.toggleAttribute("saved");EQ(e,"Callout Profile dismissed")}));return m.return(f)})})},FQ=function(a,b){EQ(a,"Callout Profile error");a=document.body.querySelector("#devsite-bookmark-error-dialog");a||(a=_ds.hD(vQ,{error:b}),document.body.appendChild(a));return a},BQ=function(a,b){return _ds.M(a,function d(){var e,f=this,h,k,l,m,n;return _ds.F(d,function(q){switch(q.j){case 1:if(null===
b||void 0===b||!b.profileId)return q.return();e="SAVE_STATE_UNKNOWN";e=f.Qc?"SAVED":"UNSAVED";h=_ds.Wj().href;_ds.C(q,2);return _ds.x(q,(0,_ds.xt)(h),4);case 4:h=q.h;_ds.D(q,3);break;case 2:_ds.E(q);case 3:return k=new _ds.ft,_ds.C(q,5),_ds.x(q,k.qe({path:h,status:e,profileId:b.profileId}),7);case 7:_ds.D(q,6);break;case 5:_ds.E(q);case 6:return l=document.querySelector("devsite-user#devsite-user"),DevsiteApp.hasFlagAccess(131)?_ds.x(q,(0,_ds.tt)("https://developers.google.com/profile/u/me",!1,!0),
11):_ds.x(q,(0,_ds.tt)("https://google.dev/u/me",!1,!0),10);case 10:m=q.h;q.G(9);break;case 11:m=q.h;case 9:return n=m,_ds.x(q,null===l||void 0===l?void 0:l.Sc("view-bookmarked-pages",n),0)}})})},GQ=function(a){return _ds.M(a,function c(){var d,e=this,f,h,k,l,m,n;return _ds.F(c,function(q){switch(q.j){case 1:d=new _ds.yj(_ds.Wj().href);if(!_ds.Sj(d.h,"bookmark")){q.G(2);break}return _ds.x(q,xQ(e),3);case 3:return d.h.remove("bookmark"),_ds.Xj(d.toString(),!0,!1),q.return();case 2:return _ds.x(q,DevsiteApp.whenReady(),
4);case 4:return _ds.x(q,DevsiteApp.isSignedIn(),5);case 5:return(f=q.h)?_ds.x(q,e.ea(),6):q.return();case 6:h=q.h;if(null===h||void 0===h||!h.profileId)return q.return();k=_ds.Wj().href;_ds.C(q,7);return _ds.x(q,(0,_ds.xt)(k),9);case 9:k=q.h;_ds.D(q,8);break;case 7:_ds.E(q);case 8:return l=(null===h||void 0===h?void 0:h.profileId)||"",m=new _ds.ft,_ds.C(q,10),_ds.x(q,m.getPath({path:k,profileId:l}),12);case 12:n=q.h;if("SAVED"===(null===n||void 0===n?void 0:n.saveStatus))return e.setAttribute("saved",
""),q.return();_ds.D(q,0);break;case 10:_ds.E(q),_ds.y(q)}})})},EQ=function(a,b){a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:b,label:"Saving Widget Callout"},bubbles:!0}))};_ds.r(wQ,_ds.N);_ds.g=wQ.prototype;_ds.g.connectedCallback=function(){return _ds.M(this,function b(){var c=this;return _ds.F(b,function(d){if(1==d.j)return _ds.x(d,GQ(c),2);zQ(c);yQ(c);_ds.y(d)})})};_ds.g.disconnectedCallback=function(){_ds.El(this.eventHandler);_ds.qi(this.m);_ds.qi(this.h);_ds.qi(this.j)};_ds.g.attributeChangedCallback=function(a,b,c){switch(a){case "saved":this.Qc=null!==c}};
_ds.g.createProfile=function(){var a,b,c,d,e,f;return _ds.M(this,function k(){var l,m,n=this,q,t,u,v,w;return _ds.F(k,function(B){switch(B.j){case 1:return l=document.querySelector("devsite-user#devsite-user"),_ds.x(B,null===l||void 0===l?void 0:l.getAccountName(),2);case 2:if(m=B.h){B.G(3);break}return _ds.x(B,null===l||void 0===l?void 0:l.getAccountEmail(),4);case 4:(m=B.h)&&(m=m.charAt(0));case 3:if(!m)return null===(a=n.h)||void 0===a?void 0:a.removeAttribute("open"),n.j=FQ(n,"There was an issue getting your account information."),
n.j.setAttribute("open",""),n.toggleAttribute("saved"),B.return();q=null===(b=n.h)||void 0===b?void 0:b.querySelector("#devsite-bookmark-create-profile-email-opt-in");t=!(!q||!q.checked);null===(c=n.h)||void 0===c?void 0:c.classList.add("loading");u=new _ds.ht;_ds.C(B,5);return _ds.x(B,_ds.kt(u,m,t,!0),7);case 7:return EQ(n,"Callout Profile created"),null===(d=n.h)||void 0===d?void 0:d.removeAttribute("open"),_ds.x(B,n.ea(),8);case 8:v=B.h;if(!v){B.G(9);break}return _ds.x(B,BQ(n,v),9);case 9:_ds.D(B,
6);break;case 5:w=_ds.E(B),null===(e=n.h)||void 0===e?void 0:e.removeAttribute("open"),n.j=FQ(n,""+w),n.j.setAttribute("open",""),n.toggleAttribute("saved");case 6:null===(f=n.h)||void 0===f?void 0:f.classList.remove("loading"),_ds.y(B)}})})};_ds.g.ea=function(){return _ds.M(this,function b(){var c,d;return _ds.F(b,function(e){switch(e.j){case 1:return c=new _ds.ht,d=null,_ds.C(e,2),_ds.x(e,c.ea(),4);case 4:d=e.h;_ds.D(e,3);break;case 2:_ds.E(e);case 3:return e.return(d)}})})};
_ds.ka.Object.defineProperties(wQ,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["saved"]}}});try{window.customElements.define("devsite-bookmark",wQ)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteBookmark",a)};})(_ds_www);
